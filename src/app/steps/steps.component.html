<div class="p-steps-bars-wrap">
  <div
    class="p-steps-reach-bar"
    [ngStyle]="{ background: activeBackground, width: activeWidth }"
  ></div>
  <div
    class="p-steps-unreach-bar"
    [ngStyle]="{ background: inactiveBackground }"
  ></div>
  <!-- 背景 -->
  <div
    class="p-steps-background"
    [style.backgroundImage]="'url(/assets/total-links/background.png)'"
  ></div>
  <!-- 活动点 -->
  <ng-container *ngIf="activePoint">
    <div
      class="p-steps-active-point-default"
      [ngStyle]="{ left: activePoint.index, color: activePointColor }"
      (click)="activePoint.hiddenContent = !activePoint.hiddenContent"
    >
      <svg
        t="1567506209494"
        class="icon"
        viewBox="0 0 1024 1024"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        p-id="4420"
        width="1em"
        height="1em"
        fill="currentcolor"
      >
        <path
          d="M368 755.008q0 32.992-23.488 56.512T288 835.008t-56.512-23.488T208 755.008q0-16 6.496-30.496t16.992-25.504 25.504-16.992T288 676q32.992 0 56.512 23.008t23.488 56z m482.016 0q0 32.992-23.488 56.512t-56.512 23.488q-8.992 0-18.016-2.016t-16.512-6.016-14.496-9.504-12.512-12.512-9.504-14.496-6.016-16.512-2.016-19.008q0-32.992 23.008-56t56-23.008q22.016 0 40.512 10.496t28.992 28.992 10.496 39.488z m84-292.992l-76.992-103.008q-2.016-0.992-4-4l-11.008-12q-3.008-4-8.992-8.992t-12.992-7.008-15.008-2.016H650.016q-14.016 0-24.512 10.016t-10.496 24V704q0 14.016 10.016 24t24.992 10.016q4-28.992 20.992-52.992t43.008-38.016 56-14.016q46.016 0 80.512 30.016t40.512 75.008h35.008q14.016 0 24-10.016t10.016-24V531.008q0-6.016-1.504-13.504T954.048 504l-4-14.016q-3.008-6.016-6.016-11.008t-4.992-8.992-4-6.016z m-215.008 68.992V394.016h84q3.008 0 6.016 2.016t4.992 4l2.016 2.016 72.992 100q3.008 4 4.992 7.488t4 7.488 3.008 7.488 0.992 6.496H719.008z m-172.992-344h-448q-14.016 0-24 10.016t-10.016 24v483.008q0 14.016 10.016 24t24 10.016h68.992q7.008-44.992 40.992-75.008t80-30.016 80 30.016 40.992 75.008h136.992q7.008 0 13.504-2.496t11.008-7.488 7.488-11.008 3.008-12.992V221.056q0-7.008-3.008-12.992t-7.488-11.008-11.008-7.488-13.504-2.496z"
          p-id="4421"
        ></path>
      </svg>
    </div>
    <div
      class="p-steps-active-point-content"
      [hidden]="activePoint.hiddenContent"
      [ngStyle]="{
        left: activePoint.index,
        background: activePointContentBackground,
        color: activePointContentBackground
      }"
    >
      <div
        class="p-steps-active-point-title"
        [ngStyle]="{ color: activePointContentColor }"
      >
        {{ activePoint.title }}
      </div>
      <div
        class="p-steps-active-point-description"
        [ngStyle]="{ color: activePointContentColor }"
      >
        {{ activePoint.description }}
      </div>
    </div>
  </ng-container>
  <!-- 关键点 -->
  <ng-container *ngFor="let point of keyPoints">
    <div class="p-steps-key-point" [ngStyle]="{ left: point.index }">
      <div
        class="p-steps-key-point-default-outer"
        [ngStyle]="{ background: point.background || activeBackground }"
      >
        <div class="p-steps-key-point-default-inner"></div>
      </div>
    </div>
    <div class="p-steps-key-point-content" [ngStyle]="{ left: point.index }">
      <div class="p-steps-key-point-title">{{ point.title }}</div>
      <div class="p-steps-key-point-description">{{ point.description }}</div>
    </div>
  </ng-container>
  <!-- 附加点 -->
  <ng-container *ngFor="let point of extraPoints">
    <div
      class="p-steps-extra-point"
      [ngStyle]="{ left: point.index }"
      (click)="point.hiddenContent = !point.hiddenContent"
    >
      <div class="p-steps-extra-point-default">
        <svg
          t="1567495738010"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="1981"
          width="1em"
          height="1em"
          fill="currentcolor"
        >
          <path
            d="M867.632 201.776c-5.408-5.376-11.776-8.08-19.136-8.08-3.664 0-11.392 3.008-23.136 8.944-11.76 5.952-24.24 12.576-37.376 19.968-13.168 7.344-28.752 14-46.736 19.952-17.968 5.936-34.608 8.944-49.92 8.944-14.144 0-26.624-2.688-37.376-8.08-35.664-16.704-66.688-29.168-93.024-37.392-26.336-8.208-54.656-12.336-84.976-12.336-52.352 0-111.984 17.024-178.832 51.008-13.792 6.88-23.68 12.208-30.08 16.112l-6.352-46.576c14.352-12.464 23.616-30.624 23.616-51.12 0-37.552-30.432-67.984-67.984-67.984-37.552 0-67.984 30.432-67.984 67.984 0 24.496 13.088 45.792 32.512 57.76l91.84 673.44c2.736 20.048 19.888 34.592 39.584 34.592 1.792 0 3.616-0.112 5.456-0.352 21.888-3.008 37.216-23.152 34.224-45.04L315.04 612.848c66.976-33.232 124.912-49.984 173.648-49.984 20.688 0 40.864 3.088 60.528 9.328 19.68 6.256 36.048 13.04 49.072 20.384 13.024 7.36 28.4 14.176 46.08 20.384 17.712 6.24 35.2 9.36 52.464 9.36 43.616 0 95.856-16.432 156.736-49.28 7.648-3.968 13.248-7.872 16.784-11.696 3.536-3.824 5.312-9.264 5.312-16.336L875.664 220.896C875.664 213.552 872.992 207.168 867.632 201.776z"
            p-id="1982"
          ></path>
        </svg>
      </div>
    </div>
    <div
      class="p-steps-extra-point-content"
      [hidden]="point.hiddenContent"
      [ngStyle]="{
        left: point.index,
        background: point.contentBackground,
        color: point.contentBackground,
        'z-index': point.zIndex
      }"
    >
      <div
        *ngIf="point.title"
        class="p-steps-extra-point-title"
        [ngStyle]="{ color: point.contentColor }"
      >
        {{ point.title }}
        <span *ngIf="point.title" class="extra-title">
          {{ point.extraTitle }}
        </span>
      </div>
      <div
        *ngIf="point.description"
        class="p-steps-extra-point-description"
        [ngStyle]="{ color: point.contentColor }"
      >
        {{ point.description }}
      </div>
    </div>
  </ng-container>
</div>
